# スクレイピング機能について

## 重要な制限事項

### 本番環境（Vercel）での制限

**スクレイピング機能は本番環境では動作しません。**

理由:
1. Vercelはサーバーレス環境のため、`localhost:8001` にアクセスできない
2. Seleniumなどのブラウザ自動化ツールが動作しない
3. 外部スクレイピングサービスが必要

### 解決策

#### オプション1: ローカル開発環境のみで使用（現在の実装）
- スクレイピング機能はローカル環境でのみ利用可能
- 本番環境では「スクレイピング機能は利用できません」というエラーが表示される

#### オプション2: 外部スクレイピングサービスをデプロイ（推奨）
スクレイピングサービスを別サーバーにデプロイする:

1. **Railway, Render, Fly.io などにデプロイ**
   ```bash
   # scraping_service.py を外部サーバーにデプロイ
   # 例: Railway
   railway up
   ```

2. **環境変数を設定**
   ```
   SCRAPING_SERVICE_URL=https://your-scraping-service.railway.app
   ```

3. **Vercelに環境変数を追加**
   - Vercelダッシュボード → Settings → Environment Variables
   - `SCRAPING_SERVICE_URL` を追加

#### オプション3: 直接fetch実装（Selenium不要）
- netkeibaに直接HTTPリクエスト
- JavaScriptレンダリングが不要なページのみ対応
- レート制限に注意が必要

## 現在の状態

- ✅ ローカル開発: 完全に動作
- ❌ 本番環境: スクレイピング機能は利用不可
- ⚠️ 本番でスクレイピングを使用するには外部サービスのデプロイが必要

## 推奨される対応

1. **短期的**: 本番環境では手動データ入力を使用
2. **長期的**: スクレイピングサービスを Railway/Render にデプロイ
